--- 1.3.0_user_guide/working_with_ogc.tex	2010-08-22 18:52:41.544755050 +0200
+++ english/english_us/user_guide/working_with_ogc.tex	2010-08-17 20:15:46.231689489 +0200
@@ -1,15 +1,14 @@
-% vim: set textwidth=78 autoindent:
-
-\section{Working with OGC Data}
+%  !TeX  root  =  user_guide.tex
+\chapter{Working with OGC Data}\label{working_with_ogc}
 
 % when the revision of a section has been finalized, 
 % comment out the following line:
 %\updatedisclaimer
 
-QGIS supports WMS and WFS as data sources. The support is native; WFS is
+QGIS supports WMS and WFS as data sources. WMS-support is native; WFS is
 implemented as a plugin.
 
-\subsection{What is OGC Data}\index{OGC!introduction}
+\section{What is OGC Data}\index{OGC!introduction}
 
 The Open Geospatial Consortium (OGC), is an international organization with more than 300 
 commercial, governmental, nonprofit and research organisations worldwide. Its members 
@@ -22,7 +21,7 @@
 
 Important OGC specifications are:
 
-\begin{itemize}
+\begin{itemize}[label=--]
 \item \textbf{WMS} - Web Map Service
 \item \textbf{WFS} - Web Feature Service
 \item \textbf{WCS} - Web Coverage Service
@@ -36,9 +35,9 @@
 above specifications, being SFS (though support of the PostgreSQL / PostGIS
 data provider, see Section \ref{label_postgis}), WFS and WMS as a client.
 
-\subsection{WMS Client}\label{sec:ogc-wms}\index{WMS!client}\index{OGC!WMS!client}\index{rasters!WMS}
+\section{WMS Client}\label{sec:ogc-wms}\index{WMS!client}\index{OGC!WMS!client}\index{rasters!WMS}
 
-\subsubsection{Overview of WMS Support}\label{sec:ogc-wms-about}\index{WMS!client!about}
+\subsection{Overview of WMS Support}\label{sec:ogc-wms-about}\index{WMS!client!about}
 
 QGIS currently can act as a WMS client that understands WMS 1.1, 1.1.1 and 1.3
 servers.  It has particularly been tested against publicly accessible servers
@@ -61,7 +60,7 @@
 the WMS server, you have a serviceable connection to that server, and the
 server understands HTTP as the data transport mechanism.
 
-\subsubsection{Selecting WMS Servers}\label{sec:ogc-wms-servers}\index{WMS!remote server!selection}
+\subsection{Selecting WMS Servers}\label{sec:ogc-wms-servers}\index{WMS!remote server!selection}
 
 The first time you use the WMS feature, there are no servers defined. You 
 can begin by clicking the \toolbtntwo{mActionAddWmsLayer}{Add WMS layer} button inside the toolbar, 
@@ -77,8 +76,7 @@
 
 \begin{table}[ht]\index{WMS!client!connection parameters}
 \centering
-\caption{WMS Connection Parameters}\label{tab:wms_connection_parms}\medskip
- \begin{tabular}{|l|p{5in}|}
+ \begin{tabular}{|l|p{11cm}|}
 \hline Name & A name for this connection.  This name will be used in the
  Server Connections drop-down box so that you can distinguish it from
  other WMS Servers. \\
@@ -91,12 +89,13 @@
 parameter is optional.\\
 \hline
 \end{tabular}
+\caption{WMS Connection Parameters}\label{tab:wms_connection_parms}
 \end{table}
 
 If you need to set up a proxy-server to be able to receive WMS-services
 from the internet, you can add your proxy-server in the options.
 Choose menu \mainmenuopt{Settings} > \dropmenuopttwo{mActionOptions}{Options}
-and click on the \tab{Proxy} tab. There you can add your proxy-settings 
+and click on the \tab{Network \& Proxy} tab. There you can add your proxy-settings 
 and enable them by setting the \checkbox{Use proxy for web access}.
 Make sure that you select the correct proxy-type from the
 \dropmenuopt{Proxy type} dropdown menu.
@@ -105,11 +104,10 @@
 preserved for future QGIS sessions.
 
 \begin{Tip}[ht]\caption{\textsc{On WMS Server URLs}}
-\qgistip{Be sure, when entering in the WMS server URL, that you have
+Be sure, when entering in the WMS server URL, that you have
 the base URL.  For example, you shouldn't have fragments such as
 \usertext{request=GetCapabilities} or \usertext{version=1.0.0}
 in your URL.\index{WMS!remote server!URL}
-}
 \end{Tip}
 
 % in QGIS 1.1.x not needed anymore since there is a search-interface 
@@ -134,7 +132,7 @@
 %%% 
 %%% An exhaustive list of WMS servers can be found at \url{http://wms-sites.com}.
 
-\subsubsection{Loading WMS Layers}\label{sec:ogc-wms-layers}\index{WMS!client!layers}
+\subsection{Loading WMS Layers}\label{sec:ogc-wms-layers}\index{WMS!client!layers}
 
 Once you have successfully filled in your parameters you can select the
 \button{Connect}
@@ -148,10 +146,9 @@
 response provided by the NASA JPL OnEarth WMS server.
 
 \begin{figure}[ht]
-  \begin{center}
-  	\caption{Dialog for adding a WMS server, showing its available layers \nixcaption}\label{fig:connection_wms}
+  \centering
 	\includegraphics[clip=true,width=0.6\textwidth]{connection_wms}
-  \end{center}
+  \caption{Dialog for adding a WMS server, showing its available layers \nixcaption}\label{fig:connection_wms}
 \end{figure}
 
 \minisec{Image Encoding}
@@ -160,7 +157,7 @@
 the client and server.  Choose one depending on your image accuracy requirements.
 
 \begin{Tip}[ht]\caption{\textsc{Image Encoding}}
-\qgistip{You will typically find that a WMS server offers you the choice
+You will typically find that a WMS server offers you the choice
 of JPEG or PNG image encoding.  JPEG is a lossy compression format,
 whereas PNG faithfully reproduces the raw raster data.
 
@@ -171,9 +168,22 @@
 Use PNG if you want precise representations of the original data, and you don't mind
 the increased data transfer requirements.
 \index{WMS!image encoding}
-}
 \end{Tip}
 
+\minisec{Options}
+
+The\tab{Options} section provides a text-field where you can add a name
+for the WMS-layer. This name will be presented in the legend after loading
+the layer.
+
+If the OnlineRessource-URL from the GetCapabilities-document is different
+from the given URL inside the connection-parameters, QGIS will ask you
+which URL it should use. Depending on your answer QGIS will check the
+checkboxes for yourself based on your answere. This can also be tweaked with a
+\checkbox{Ignore GetMap URL} checkbox and a
+\checkbox{Ignore GetFeatureInfo URL} checkbox separately, also later on.
+
+
 \minisec{Layers} \label{ogc-wms-layers}
 
 The \tab{Layers} section lists the layers available from the selected
@@ -185,13 +195,10 @@
 and transmitted to QGIS in one go.
 
 \begin{Tip}[ht]\caption{\textsc{WMS Layer Ordering}}
-\qgistip{In this version of QGIS, WMS layers rendered by a server are overlaid
+In this version of QGIS, WMS layers rendered by a server are overlaid
 in the order listed in the Layers section, from top to bottom of the list.
-If you want to overlay layers in the opposite order, then you can 
-select \toolbtntwo{mActionAddWmsLayer}{Add WMS layer} a second time, choose the same server again,
-and select the second group of layers that you want to overlay the first group.
+If you want to change the overlay order, you can use the \tab{Layer Order} tab. 
 \index{WMS!remote server!layer ordering}
-}
 \end{Tip}
 
 \minisec{Transparency}\label{ogc-wms-transparency}
@@ -200,11 +207,10 @@
 be always on, where available.
 
 \begin{Tip}[ht]\caption{\textsc{WMS Layer Transparency}}
-\qgistip{The availability of WMS image transparency depends on
+The availability of WMS image transparency depends on
 the image encoding used:  PNG and GIF support transparency,
 whilst JPEG leaves it unsupported.
 \index{WMS!layer transparency}
-}
 \end{Tip}
 
 \minisec{Coordinate Reference System}
@@ -234,7 +240,7 @@
 
 
 \begin{Tip}[ht]\caption{\textsc{WMS Projections}}
-\qgistip{For best results, make the WMS layer the first layer
+For best results, make the WMS layer the first layer
 you add to your project.  This allows the project
 projection to inherit the CRS you used to render the WMS layer.
 On-the-fly projection (see Section \ref{sec:projection-specifying})
@@ -243,27 +249,25 @@
 In this version of QGIS, if you add a WMS layer later, and give it a different
 CRS to the current project projection, unpredictable
 results can occur.
-}
 \end{Tip}
 
 % 
 % server-search tab.
 %
-\subsubsection{Server-Search}
+\subsection{Server-Search}
 \label{sec:serversearch}
 \index{WMS!serversearch}
 \index{WMS!search}
 \index{OGC!search}
 
-Within QGIS 1.1.X you can search for WMS-servers. 
-Figure \ref{fig:searchtab} shows the newly created \tab{search}-tab with
-the \dialog{Add Layer(s) from a Server}-dialog.
+Within QGIS you can search for WMS-servers. Figure \ref{fig:searchtab} shows 
+the newly created \tab{search}-tab with the \dialog{Add Layer(s) from a 
+Server}-dialog.
 
 \begin{figure}[ht]
-  \begin{center}
-  	\caption{Dialog for searching WMS servers after some keywords \nixcaption}\label{fig:searchtab}
+  \centering
 	\includegraphics[clip=true,width=0.6\textwidth]{wms_server-search}
-  \end{center}
+  	\caption{Dialog for searching WMS servers after some keywords \nixcaption}\label{fig:searchtab}
 \end{figure}
 
 As you can see it is possible to enter a search-string in the textfield an
@@ -288,7 +292,26 @@
 Basically this option is a frontend to the API of
 \url{http://geopole.org}.
 
-\subsubsection{Using the Identify Tool}\label{sec:ogc-wms-identify}
+%
+% Tilesets
+%
+\subsection{Tilesets}\label{sec:tilesets}
+\index{WMS!tileset}
+\index{WMS!WMS-C}
+
+When using WMS-C (Cached WMS) Services like
+\url{http://labs.metacarta.com/wms-c/Basic.py} you are able to browse
+through the \tab{tiles}-tab given by the server. Additional information like
+tilesize, formats and supported CRS are listed in this table.
+
+In combination with this feature you can use the tile scale slider from
+the \mainmenuopt{View}>\dropmenuopt{tile scale slider}, which gives you
+the available scales from the tileserver with nice slider docked in.
+
+%
+% Identify
+%
+\subsection{Using the Identify Tool}\label{sec:ogc-wms-identify}
 \index{WMS!identify}
 \index{identify!WMS}
 \index{WMS!GetFeatureInfo}
@@ -323,10 +346,10 @@
 standards \cite{OGCWMS010101web}, \cite{OGCWMS010300web}, but
 here are a few handy definitions:
 
-\begin{itemize}
+\begin{itemize}[label=--]
 \item \textbf{Server Properties}
 
-\begin{itemize}
+\begin{itemize}[label=--]
 \item \textbf{WMS Version}      - The WMS version supported by the server.
 
 \item \textbf{Image Formats}    - The list of MIME-types the server can respond with when
@@ -343,7 +366,7 @@
 
 \item \textbf{Layer Properties}
 
-\begin{itemize}
+\begin{itemize}[label=--]
 \item \textbf{Selected}         - Whether or not this layer was selected when its                                                                        server was added to this project.
 
 \item \textbf{Visible}          - Whether or not this layer is selected as visible
@@ -399,7 +422,7 @@
 \end{itemize}
 
 
-\subsubsection{WMS Client Limitations}\label{sec:ogc-wms-limits}\index{WMS!client!limits}
+\subsection{WMS Client Limitations}\label{sec:ogc-wms-limits}\index{WMS!client!limits}
 
 Not all possible WMS Client functionality had been included in this version of QGIS.
 Some of the more notable exceptions follow:
@@ -422,21 +445,24 @@
 \ref{sec:ogc-wms-servers} for details.
 
 \begin{Tip}[ht]\caption{\textsc{Accessing secured OGC-layers}}
-\qgistip{If you need to access secured layers with other secured methods
+If you need to access secured layers with other secured methods
 than basic authentification, you could use InteProxy as
 a transparent proxy, which does supports several authentification methods.
 More information can be found at the InteProxy-manual found on the website
 \url{http://inteproxy.wald.intevation.org}.
 \index{WMS!secured layers!}\index{OGC!Authentication}
-}
 \end{Tip}
 
-
-\subsection{WFS Client}\label{sec:ogc-wfs}
+%
+% WFS-client
+%
+\section{WFS Client}\label{sec:ogc-wfs}
 
 In QGIS, a WFS layer behaves pretty much like any other vector layer. You 
 can identify and select features and view the attribute table. An exception 
-is that editing is not supported at this time. To start the WFS plugin you 
+is that editing is not supported at this time (at the time of this writing
+there will be support for WFS-T in the near future as well). 
+To start the WFS plugin you 
 need to open \mainmenuopt{Plugins} > \dropmenuopttwo{mActionShowPluginManager}{Plugin Manager...}, 
 activate the \checkbox{WFS plugin} checkbox and click \button{OK}. 
 
@@ -474,12 +500,20 @@
 in your preferences.
 
 \begin{figure}[ht]
-  \begin{center}
-  	\caption{Adding a WFS layer \nixcaption}\label{fig:wfs_dmsolutions}
+  \centering
 	\includegraphics[clip=true,width=0.45\textwidth]{connection_wfs}
-  \end{center}
+  	\caption{Adding a WFS layer \nixcaption}\label{fig:wfs_dmsolutions}
 \end{figure}
 
+Without using the checkbox \checkbox{Only request features overlapping the
+current view extent} QGIS fetches all features from the WFS-server. If you
+only want to have a small selection based on your extent, zoom to the area
+of interest, request the WFS-layer again and make sure you have checked
+the checkbox mentioned above. Basically this addes the BBOX-parameter with
+the values from you current extent to the WFS-query. This is extremly
+usefull when you only want to request \textbf{some} features from a huge
+WFS-dataset.
+
 You'll notice the download progress is visualized in the left bottom of the QGIS main window. 
 Once the layer is loaded, you can identify and select a province or two and view the 
 attribute table.
@@ -489,29 +523,26 @@
 and crashes. You can look forward to improvements in a future version of the plugin.
 
 This means that only WFS 1.0.0 is supported. At this point there have not
-been many test against over WFS versions implemented in other WFS-servers.
+been many test against WFS versions implemented in other WFS-servers.
 If you encounter problems with any other WFS-server, please do not
 hesitate to contacting the development team. Please refer to Section 
 \ref{label_helpsupport} for further information about the mailinglists.
 
-\begin{Tip}[ht]\caption{\textsc{Finding WFS Servers}}
-\qgistip{You can find additional WFS servers by using Google or your
+\begin{Tip}[htb]\caption{\textsc{Finding WFS Servers}}
+You can find additional WFS servers by using Google or your
 favorite search engine. There are a number of lists with public URLs, some 
 of them maintained and some not.
 \index{WFS!remote server!}
-}
 \end{Tip} 
 
-\begin{Tip}[ht]\caption{\textsc{Accessing secure WFS Servers}}
-\qgistip{
-Within the dialog \dialog{Create a new WFS-connection} accidentily
-described QGIS does not support authenficated WFS-connections yet. Within
-one of the next releases we expect to also support authenticated
-WFS-servers. Meanwhile you could use InteProxy
+\begin{Tip}[htb]\caption{\textsc{Accessing secure WFS Servers}}
+Within the dialog \dialog{Create a new WFS-connection} QGIS does not support 
+authenficated WFS-connections yet. Within one of the next releases we expect 
+to also support authenticated WFS-servers. Meanwhile you could use InteProxy
 (\url{http://inteproxy.wald.intevation.org}) for accessing authenticated
 WFS-servers.
 \index{WFS!authenticate remote server!}
 \index{WFS!secured WFS server!}
-}
 \end{Tip} 
 
+\FloatBarrier
