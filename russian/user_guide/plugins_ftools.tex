%  !TeX  root  =  user_guide.tex

\section{Модуль fTools}\label{sec:ftools}

% when the revision of a section has been finalized,
% comment out the following line:


Назначение модуля fTools, написанного на языке программирования
Python,~--- предоставить единое средство для решения многих задач,
распространенных в векторно-ориентированных
ГИС, без необходимости привлечения дополнительных программ, программных
библиотек или сложных <<обходных манёвров>>. Модуль предоставляет расширяемый
набор инструментов управления пространственными данными и функций анализа,
являющихся одновременно быстрыми и функциональными.

В новых версиях \qg модуль fTools автоматически устанавливается и загружается,
и, как другие модули, может быть выгружен или загружен снова при помощи
Mенеджера модулей (см. Раздел~\ref{sec:managing_plugins}). Когда модуль
fTools загружен, он добавляет меню \mainmenuopt{Вектор} в QGIS, предоставляя
набор функций от анализа и выборки до обработки геометрии, а также несколько
полезных инструментов управления данными.

\minisec{Функции fTools}\label{ftool_functions}

В таблицах с \ref{tab:ftool_analysis} до \ref{tab:fTool_data_management}
перечислены функции, доступные в модуле fTools, включая краткое описание
каждой функции. Для получения дополнительной информации об отдельных
функциях fTools используйте пункт меню \dropmenuopt{О программе fTools}
в меню \mainmenuopt{Вектор}.

\begin{table}[ht]\index{анализ}
\centering
 \begin{tabular}{|m{1cm}|m{3cm}|m{9cm}|}
\hline \multicolumn{3}{|c|}{\textbf{Инструменты анализа, доступные в  модуле fTools}} \\
 \hline \textbf{Иконка} & \textbf{Инструмент} & \textbf{Назначение} \\
 \hline \includegraphics[width=0.7cm]{matrix} & Матрица расстояний &
 Измеряет расстояние между точками двух точечных слоёв и выдает результат в виде
 a) квадратной матрицы расстояний, b) линейной матрицы расстояний, или c) суммы расстояний.
 Можно ограничить расчет только для k ближайших точек. \\
 \hline \includegraphics[width=0.7cm]{sum_lines} & Сумма расстояний в полигонах & Рассчитывает
 сумму расстояний для линий линейного слоя в пределах каждого полигона другого
 (векторного полигонального) слоя. \\
 \hline \includegraphics[width=0.7cm]{sum_points} & Количество точек в полигонах & Рассчитывает
 число точек точечного слоя, которые находятся в пределах каждого полигона другого
 (векторного полигонального) слоя. \\
 \hline \includegraphics[width=0.7cm]{unique} & Список уникальных значений & Отображает
 список всех уникальных значений для указанного поля атрибутивной таблицы
 исходного векторного слоя. \\
 \hline \includegraphics[width=0.7cm]{basic_statistics} & Базовая статистика & Рассчитывает
 основные статистики (среднее, стандартное отклонение, количество,
 сумму, коэффициент вариации) для указанного поля. \\
 \hline \includegraphics[width=0.7cm]{neighbour} & Анализ близости
 & Рассчитывает значение близости для оценки степени сгруппированности точек
 в пределах точечного векторного слоя. \\
 \hline \includegraphics[width=0.7cm]{mean} & Средние координаты &
 Рассчитывает среднеарифметические или средневзвешенные координаты центра для целого векторного слоя
 или для набора объектов, выбранного на основе уникальные значения из указанного поля. \\
 \hline \includegraphics[width=0.7cm]{intersections} & Пересечения линий &
 Рассчитывает местонахождения пересечений линий, создавая точечный шейп-файл с точками пересечений.
 Полезен для определения мест пересечений дорог или водотоков. \\
 \hline
\end{tabular}
\caption{Инструменты анализа в fTools}\label{tab:ftool_analysis}
\end{table}

\begin{table}[ht]\index{инструменты выборки}
\centering
 \begin{tabular}{|m{1cm}|m{3cm}|m{9cm}|}
 \hline \multicolumn{3}{|c|}{\textbf{Инструменты выборки, доступные в  модуле fTools}} \\
 \hline \textbf{Иконка} & \textbf{Инструмент} & \textbf{Назначение} \\
 \hline \includegraphics[width=0.7cm]{random_selection} & Случайная выборка & Случайным
 образом выбирает n штук или n процентов из всех объектов слоя \\
 \hline \includegraphics[width=0.7cm]{sub_selection} & Случайная выборка
 в подмножествах & Случайно выбирает набор объектов с уникальными значением указанного поля. \\
 \hline \includegraphics[width=0.7cm]{random_points} & Случайные точки & Создает
 псевдо-случайные точки в пределах границ указанного слоя. \\
 \hline \includegraphics[width=0.7cm]{regular_points} & Регулярные точки & Создает
 регулярную сетку точек в пределах указаной области и экспортирует их в точечный шейп-файл. \\
 \hline \includegraphics[width=0.7cm]{vector_grid} & Векторная сетка & Создает
 линейную или полигональную сетку, основываясь на заданном пользователем интервале. \\
 \hline \includegraphics[width=0.7cm]{select_location} & Выделение по районам &
 Выделяет объекты на основе их положения относительно другого слоя, создавая новую
 выборку или добавляя/отнимая к/от текущей выборки. \\
 \hline \includegraphics[width=0.7cm]{layer_extent} & Полигон из границ слоя &
 Создает полигональный слой с единственным прямоугольным полигоном в соответствии
 с границами исходного растрового или векторного слоя. \\
 \hline
\end{tabular}
\caption{Инструменты выборки в fTools}\label{tab:ftool_research}
\end{table}

\begin{table}[ht]\index{инструменты геопроцессинга}
\centering
 \begin{tabular}{|m{1cm}|m{3cm}|m{9cm}|}
 \hline \multicolumn{3}{|c|}{\textbf{Инструменты геопроцессинга, доступные в  модуле fTools}} \\
 \hline \textbf{Иконка} & \textbf{Инструмент} & \textbf{Назначение} \\
 \hline \includegraphics[width=0.7cm]{convex_hull} & Выпуклые оболочки & Создает
 минимально возможные выпуклые оболочки, или выпуклые оболочки
 на основе указанного поля. \\
 \hline \includegraphics[width=0.7cm]{buffer} & Буферные зоны & Создает
 буферные зоны вокруг объектов заданного пользователем размера, или используя
 размер из значений указанного поля. \\
 \hline \includegraphics[width=0.7cm]{intersect} & Пересечение & Совмещает
 слои таким образом, что в выходном слое содержатся только участки, в которых оба слоя пересекаются. \\
 \hline \includegraphics[width=0.7cm]{union} & Объединение & Совмещает
 слои таким образом, что в выходном слое содержатся как участки
 пересечения, так и участки, принадлежащие только одному из слоев. \\
 \hline \includegraphics[width=0.7cm]{sym_difference} & Симметричная разность &
 Совмещает слои таким образом, что в выходном слое содержатся
 только те участки, в которых исходные слои не пересекаются. \\
 \hline \includegraphics[width=0.7cm]{clip} & Отсечение & Совмещает слои
 таким образом, что в выходном слое содержатся только те участки,
 которые пересекаются со слоем отсечения. \\
 \hline \includegraphics[width=0.7cm]{difference} & Разность & Совмещает
 слои таким образом, что в выходном слое содержатся только те участки,
 которые не пересекаются со слоем отсечения. \\
 \hline \includegraphics[width=0.7cm]{dissolve} & Объединение по признаку & Объединяет
 объекты на основе значения указанного поля. Все объекты с одинаковым значением поля
 будут объединены в один объект. \\
 \hline
\end{tabular}
\caption{Инструменты геопроцессинга в fTools}\label{tab:ftool_geoprocessing}
\end{table}

\begin{table}[ht]\index{инструменты обработки геометрии}
\centering
\begin{tabular}{|m{1cm}|m{3cm}|m{9cm}|}
 \hline \multicolumn{3}{|c|}{\textbf{Инструменты обработки геометрии, доступные в  модуле fTools}} \\
 \hline \textbf{Иконка} & \textbf{Инструмент} & \textbf{Назначение} \\
 \hline \includegraphics[width=0.7cm]{check_geometry} & Проверка геометрии &
 Проверяет полигоны на наличие пересечений, <<островов>> и неправильного порядка нумерации узлов. \\
 \hline \includegraphics[width=0.7cm]{export_geometry} & Экспортировать / добавить поле
 геометрии & Добавляет к слою поле(я) с информацией о геометрии: (XCOORD, YCOORD) для точечного
 слоя, (LENGTH) для линейного и (AREA, PERIMETER) для полигонального. \\
 \hline \includegraphics[width=0.7cm]{centroids} & Центроиды полигонов &
 Вычисляет истинные центроиды для каждого полигона исходного полигонального слоя. \\
 \hline \includegraphics[width=0.7cm]{delaunay} & Триангуляция Делоне &
 Рассчитывает и строит (как полигональный шейп-файл) триангуляцию Делоне для исходного точечного слоя. \\
 \hline \includegraphics[width=0.7cm]{simplify} & Упростить геометрию &
 Упрощает линии или полигоны при помощи модифицированного алгоритма Дугласа--Пойкера. \\
 \hline \includegraphics[width=0.7cm]{multi_to_single} & Разбить составные
 объекты & Преобразует составные объекты (мульти-полигоны или мульти-полилинии)
 в несколько простых объектов (полигонов или полилиний). \\
 \hline \includegraphics[width=0.7cm]{single_to_multi} & Объединить
 объекты в составные & Объединяет несколько простых объектов в один составной
 на основе значения указанного поля. \\
 \hline \includegraphics[width=0.7cm]{to_lines} & Преобразовать полигоны в линии
 & Преобразует полигоны в линии, составные полигоны преобразует в несколько простых полилиний. \\
 \hline \includegraphics[width=0.7cm]{extract_nodes} & Извлечение узлов &
 Извлекает узлы из линий или полигонов, создавая точечный шейп-файл. \\
 \hline
\end{tabular}
\caption{Инструменты обработки геометрии в fTools}\label{tab:ftool_geometry}
\end{table}

\begin{table}[ht]\index{инструменты управления данными}
\centering
\begin{tabular}{|m{1cm}|m{3cm}|m{9cm}|}
 \hline \multicolumn{3}{|c|}{\textbf{Инструменты управления данными, доступные в модуле fTools}} \\
 \hline \textbf{Иконка} & \textbf{Инструмент} & \textbf{Назначение} \\
 \hline \includegraphics[width=0.7cm]{export_projection} & Экспорт в новую проекцию &
 Перепроецирует объекты в новую проекцию и экспортирует в новый шейп-файл. \\
 \hline \includegraphics[width=0.7cm]{define_projection} & Задать текущую проекцию &
 Задает проекцию для шейп-файла, если ранее она не была задана. \\
 \hline \includegraphics[width=0.7cm]{join_attributes} & Объединение атрибутов & Присоединяет
 дополнительные атрибуты к атрибутивной таблице векторного слоя в виде DBF или CSV файла и
 сохраняет результат в новый шейп-файл. Дополнительные атрибуты могут быть взяты из
 векторного слоя или отдельного DBF файла. \\
 \hline \includegraphics[width=0.7cm]{join_location} & Объединение атрибутов по районам & Присоединяет
 дополнительные атрибуты к векторному слою на основе пространственного взаимного расположения.
 Атрибуты из одного векторного слоя присоединяются к атрибутивной таблице другого векторного слоя и
 экспортируются в шейп-файл. \\
 \hline \includegraphics[width=0.7cm]{split_layer} & Разбить векторный слой &
 Делит векторный слой на несколько отдельных слоев на основе значения указанного поля. \\
 \hline \includegraphics[width=0.7cm]{merge_shapes} & Объединение shape-файлов &
 Объединяет несколько шейп-файлов, находящихся в одной директории, в новый шейп-файл,
 основываясь на типе слоя (точечный, линейный, полигональный). \\
 \hline
\end{tabular}
\caption{Инструменты управления данными в fTools}\label{tab:fTool_data_management}
\end{table}

\FloatBarrier
