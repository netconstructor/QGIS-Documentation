% vim:autoindent:set textwidth=78:
% !TeX root = user_guide.tex

\chapter{Print Composer}
\label{label_printcomposer}

% when the revision of a chapter has been finalized, 
% comment out the following line:
% \updatedisclaimer

Der Print Composer (Druckzusammenstellung) bietet eine wachsende Anzahl von
Layout- und Druckfunktionen. Es ist möglich, Elemente wie ein Kartenfenster, 
eine Legende, einen Maßstab, Bilder, einfache Objekte, Pfeile und Texte zu 
layouten und dann zu drucken. Sie
können Größe, Ausrichtung, Position sowie die Eigenschaften jedes Elements
anpassen und diese in Gruppen zusammenfassen. Das Layout kann gedruckt oder
in Bildformate, Postscript, PDF oder SVG exportiert werden.\footnote{Der
Export nach SVG wird unterstützt, aber es funktioniert nicht korrekt mit
allen QT4 Versionen. Sie sollten das jeweils auf Ihrem Rechner testen.} und
als Vorlage gespeichert und in einer anderen QGIS Sitzung wieder verwendet
werden. Eine Liste der Print Composer Funktionen sehen Sie in
Tabelle~\ref{tab:printcomposer_tools}

\begin{table}[ht]\index{Print Composer!Funktionen}
\centering
\caption{Print Composer Funktionen}\label{tab:printcomposer_tools}\medskip
 \begin{tabular}{|m{0.7cm}|m{6.9cm}|m{0.7cm}|p{6.9cm}|}
 \hline \textbf{Icon} & \textbf{Zweck} & \textbf{Icon} &
 \textbf{Zweck} \\
 \hline \includegraphics[width=0.6cm]{mActionFolder} & Aus Vorlage laden 
 & \includegraphics[width=0.6cm]{mActionFileSaveAs} & Als Vorlage speichern \\
 \hline \includegraphics[width=0.6cm]{mActionExportMapServer} & Speichern als Rasterbild 
 & \includegraphics[width=0.6cm]{mActionSaveAsPDF} & Speichern als PDF \\
 \hline \includegraphics[width=0.6cm]{mActionSaveAsSVG} & Speichern als SVG 
 & \includegraphics[width=0.6cm]{mActionFilePrint} & Drucken oder als Postscript exportieren \\
 \hline \includegraphics[width=0.6cm]{mActionZoomFullExtent} & Volle Ausdehnung 
 & \includegraphics[width=0.6cm]{mActionZoomIn} & Hineinzoomen \\
 \hline \includegraphics[width=0.6cm]{mActionZoomOut} & Hinauszoomen 
 & \includegraphics[width=0.6cm]{mActionDraw} & Aktualisiere Ansicht \\
 \hline \includegraphics[width=0.6cm]{mActionUndo} & Letzte Änderung zurücknehmen 
 & \includegraphics[width=0.6cm]{mActionRedo} & Letzte Änderung wiederherstellen \\
 \hline \includegraphics[width=0.6cm]{mActionAddMap} & Neue Karte hinzufügen
 & \includegraphics[width=0.6cm]{mActionSaveMapAsImage} & Bild hinzufügen \\
 \hline \includegraphics[width=0.6cm]{mActionLabel} & Neue Beschriftung hinzufügen
 & \includegraphics[width=0.6cm]{mActionAddLegend} & Neue Vektorlegende hinzufügen \\
 \hline \includegraphics[width=0.6cm]{mActionScaleBar} & Neuen Maßstab hinzufügen
 & \includegraphics[width=0.6cm]{mActionAddBasicShape} & Einfaches Objekt hinzufügen \\
 \hline \includegraphics[width=0.6cm]{mActionAddArrow} & Pfeil hinzufügen 
 & \includegraphics[width=0.6cm]{mActionOpenTable} & Attributtabelle hinzufügen \\
 \hline \includegraphics[width=0.6cm]{mActionSelectPan} & Eintrag wählen/verschieben 
 & \includegraphics[width=0.6cm]{mActionMoveItemContent} & Den Elementinhalt verschieben \\
 \hline \includegraphics[width=0.6cm]{mActionGroupItems} & Elemente gruppieren 
 & \includegraphics[width=0.6cm]{mActionUngroupItems} & Die Gruppe auflösen \\
 \hline \includegraphics[width=0.6cm]{mActionRaiseItems} & Ausgewählte Elemente in den Vordergrund bringen 
 & \includegraphics[width=0.6cm]{mActionLowerItems} & Ausgewählte Elemente in den Hintergrund bringen \\
 \hline \includegraphics[width=0.6cm]{mActionMoveItemsToTop} & Ausgewählte Elemente in den Vordergrund schieben 
 & \includegraphics[width=0.6cm]{mActionMoveItemsToBottom} & Ausgewählte Elemente in den Hintergrund stellen \\
 \hline \includegraphics[width=0.6cm]{mActionAlignLeft} & Ausgewählte Elemente links ausrichten 
 & \includegraphics[width=0.6cm]{mActionAlignRight} & Ausgewählte Elemente rechts ausrichten \\
 \hline \includegraphics[width=0.6cm]{mActionAlignHCenter} & Ausgewählte Elemente zentriert ausrichten 
 & \includegraphics[width=0.6cm]{mActionAlignVCenter} & Ausgewählte Elemente vertika zentriert ausrichten \\
 \hline \includegraphics[width=0.6cm]{mActionAlignTop} & Ausgewählte Elemente oben ausrichten 
 & \includegraphics[width=0.6cm]{mActionAlignBottom} & Ausgewählte Elemente unten ausrichten \\
\hline
\end{tabular}
\end{table}

Alle Werkzeuge des Print Composers können über das Menü oder über Icons 
in der Werkzeugleiste angesprochen werden. Die Werkzeuge können dabei an oder 
ausgeschaltet werden, indem Sie mit der Maus über die Werkzeugleiste fahren und 
dann auf die rechte Maustaste drücken.

\section{Ein neues Template öffnen}\label{composertemplates}

Um den Print Composer zu verwenden, laden Sie zuerst einige Raster- 
und Vektorlayer, die Sie layouten möchten in das Kartenfenster und geben Sie
ihnen das für den Druck gewünschte Aussehen. Nachdem alles nach ihren
Wünschen eingestellt ist, klicken Sie in der Werkzeugleiste auf den Knopf 
\toolbtntwo{mActionNewComposer}{Neue Druckzusammenstellung} oder wählen 
Sie im \mainmenuopt{Datei} \arrow 
\dropmenuopttwo{mActionNewComposer}{Neue Druckzusammenstellung}. 

\section{Den Print Composer verwenden}\label{label_useprintcomposer} 

\begin{figure}[ht]
\begin{center}
   \caption{Print Composer \nixcaption}\label{fig:print_composer_blank}\smallskip
   \includegraphics[clip=true, width=\textwidth]{print_composer_blank}
\end{center}  
\end{figure}

Wenn Sie den Print Composer öffnen, sehen Sie erstmal nur ein weißes Blatt
vor sich, auf dem Sie dann die Elemente Kartenfenster, Legende, Maßstab, einfache 
Objekte, Pfeile, Bilder und Texte hinzufügen können. Abbildung 
\ref{fig:print_composer_blank} zeigt den Anfangsbildschirm des Print Composers 
mit aktiviertem \checkbox{Am Raster ausrichten} Kontrollkästchen, bevor 
Elemente hinzugefügt werden. Auf der rechten Seite erscheinen nun zwei Reiter.

\begin{itemize}[label=--]
\item Der Reiter \tab{Allgemein} ermöglicht es, die Papiergröße,
-ausrichtung, Auflösung der Druckkarte in DPI zu definieren und das
Kontrollkästchen \checkbox{Am Raster ausrichten} zu aktivieren und eine
Rasterauflösung festzulegen. Beachten Sie, das Ausrichten am Raster
funktioniert nur, wenn sie eine Rasterauflösung > 0 definieren. Darüberhinaus
können Sie das Kontrollkästchen \checkbox{Als Raster drucken} aktivieren.
Dabei werden alle Elemente zuerst rasterisiert, bevor sie gedruckt oder im
Postscript of PDF Format gespeichert werden.
\item Der Reiter \tab{Eintrag} gibt die Eigenschaften für das aktuell
gewählte Kartenobjekt wieder. Wenn Sie mit dem Knopf
\toolbtntwo{mActionSelectPan}{Eintrag wählen/verschieben} ein Element im
Fenster selektieren (z.B. Legende, Maßstab, Bild. usw) und dann auf den
Reiter \tab{Eintrag} klicken, können Sie dessen Eigenschaften anpassen.
\item Der Reiter \tab{Befehlsprotokoll} protokolliert alle Befehle, die 
am aktuellen Drucklayout durchgeführt wurden. Mit einem Mausklick auf einen 
bestimmten Befehl, können die danach durchgeführten Schritte rückgängig 
gemacht werden.
\end{itemize}

Es können mehrere Elemente im Print Composer angelegt werden, also auch mehr
als ein Kartenfenster mit eigener Legende. Jedes Element hat seine eigenen
Eigenschaften und im Fall des Kartenfensters eine eigene Ausdehnung.
Wenn Sie ein Element entfernen wollen, können Sie das mit der Taste 
\keystroke{Entfernen} oder \keystroke{Backspace} machen.

\section{Eine Karte zum Print Composer hinzufügen}

Um Layer im Kartenfenster des Print Composers darzustellen, klicken Sie auf
den Knopf \toolbtntwo{mActionAddMap}{Neue Karte hinzufügen} in der
Werkzeugleiste. Ziehen Sie dann mit der Maus ein Rechteck im Kartenfenster
auf, um die aktuell visualisierten Layer darzustellen. Um den aktuellen 
Ausschnitt des QGIS Kartenfensters zu sehen, können Sie zwischen drei 
verschiedenen Modi im Reiter \tab{Eintrag} im Bereich Vorschau wählen:  

\begin{itemize}[label=--]
\item \selectstring{Vorschau}{Rechteck} ist die Standardeinstellung. Es wird
eine leeres Kästchen mit der Meldung \textit{'Karte wird hier gedruckt'}
angezeigt.
\item \selectstring{Vorschau}{Cache} führt dazu, dass die Karte in der momentanen
Bildschirmauflösung gerendert wird. Wenn man im Composer zoomt, wird nicht neu
gerendert sondern nur das Bild skaliert.
\item \selectstring{Vorschau}{Zeichnen} führt dazu, dass beim Zoomen im
Composer neu gerendert wird, aber aus Speicherplatzgründen nur bis zu einer
Maximalauflösung.
\end{itemize}

\textbf{Cache} ist der Standard Preview Modus, wenn Sie eine Karte neu in 
die Druckzusammenstellung laden.

Sie können die Größe des Kartenfensters im Print Composer nachträglich
verändern, indem sie auf den Knopf
\toolbtntwo{mActionSelectPan}{Selektiere/Verschiebe Eintrag} klicken, mit der
Maus das Kartenfenster auswählen und die Größe an den blauen Ecken verändern.
Sie können die Größe auch verändern, indem Sie das Element selektieren und
die Breite und Höhe im Reiter \tab{Eintrag} anpassen.

Um Layer innerhalb des Print Composer im Kartenelement zu verschieben,
klicken Sie auf den Knopf \toolbtntwo{mActionMoveItemContent}{Den
Elementinhalt verschieben}. Sie können nun mit der linken Maustaste die Layer
im Kartenelement verschieben. Nachdem Sie den richtigen Platz für das
Kartenelement gefunden haben, kann es innerhalb des Print Composer
Kartenfensters gesichert werden. Wählen Sie dazu das Kartenelement aus und
drücken Sie auf die rechte Maustaste, um es zu
\toolbtntwo{mIconLock}{sichern}. Mit einem erneuten rechten Mausklick ist es
wieder entsichert.

\textbf{Bemerkung:} QGIS \CURRENT ist nun auch in der Lage, die neue Beschriftung 
in der Druckzusammenstellung anzuzeigen. Diese sind aber manchmal noch nicht korrekt 
skaliert. Daher kann es unter Umständen sinnvoll sein, bei Bedarf wieder auf die 
Standard Beschriftung zurückzugreifen. 

\subsection{Karten Eintrag Reiter - Karte und Ausdehnung}

\begin{figure}[ht]
\centering
\caption{Print Composer Karten Eintrag Reiter - Dialoge Karte und Ausdehnung \nixcaption}\label{fig:mapdialog}
\subfloat[Dialog Karte]{\label{subfig:map_dialog1}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_map1}}\hspace{0.33cm}
\subfloat[Dialog Ausdehnung]{\label{subfig:map_dialog2}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_map2}}
\end{figure}

\minisec{Dialog Karte}

Der Dialog \textbf{Karte} des Karten Eintrag Reiters bietet folgende 
Funktionalitäten (siehe Abbildung \ref{fig:mapdialog}a)):

\begin{itemize}[label=--]
\item Der \textbf{Vorschau} Bereich ermöglicht die Auswahl der Preview Modi 
Cache, Zeichnen und Rechteck. Drücken Sie auf den Knopf \button{Vorschau 
aktualisieren}, um die Änderung im Kartenfenster durchzuführen.
\item Der \textbf{Karte} Bereich ermöglicht es, die Größe des Kartenfensters 
über die Parameter Breite und Höhe zu verändern. Außerdem kann mit dem 
\selectstring{Drehung}{0} die Karte im Uhrzeigersinn in Grad gedreht werden. 
Achten Sie darauf, dass ein Koordinatenrahmen nur erstellt werden kann, wenn 
keine Drehung definiert ist, der Wert also 0 ist. Zusätzlich können Sie noch 
die Kontrollkästchen \checkbox{Layer des Kartenelements festhalten} und 
\checkbox{Kartenelemente zeichnen} aktivieren.
\end{itemize}

Wenn Sie den Ausschnitt im QGIS Kartenfenster durch zoomen oder pannen 
verändern, oder neue Vektor- oder Rasterlayer hinzufügen oder entfernen, 
können Sie die Karte im Print Composer updaten, indem Sie auf den Knopf 
\button{Vorschau aktualisieren} klicken.

\minisec{Dialog Ausdehnung}

Der Dialog \textbf{Ausdehnung} des Karten Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:mapdialog}b)):

\begin{itemize}[label=--]
\item Der \textbf{Kartenausmaß} Bereich ermöglicht es, das Kartenausmaß 
mittels Y und X min/max Werten zu definieren. Oder Sie drücken einfach auf 
den Knopf \button{Anzeigegrenzen übernehmen}.
\end{itemize}

Wenn Sie den Ausschnitt im QGIS Kartenfenster durch zoomen oder pannen
verändern, oder neue Vektor- oder Rasterlayer hinzufügen oder entfernen,
können Sie die Karte im Print Composer updaten, indem Sie auf den Knopf
\button{Vorschau aktualisieren} klicken.

\subsection{Karten Eintrag Reiter - Dialoge Gitter und Allgemeine Optionen}

\begin{figure}[ht]
\centering
\caption{Print Composer Karten Eintrag Reiter - Dialoge Gitter und Allgemeine Optionen \nixcaption}\label{fig:sec_map_dialog}
   \subfloat[Dialog Gitter]{\label{subfig:map_dialog3}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_map3}}\hspace{0.33cm}
   \subfloat[Dialog Allgemeine Optionen]{\label{subfig:map_dialog4}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_map4}}
\end{figure}

\minisec{Dialog Gitter}

Der Dialog \textbf{Gitter} des Karten Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:sec_map_dialog}a)):

\begin{itemize}[label=--]
\item Das Kontrollkästchen \checkbox{Gitter anzeigen} ermöglicht es, ein 
Koordinatengitter über das Kartenelement zu legen. Als Gittertyp kann 
'Ausgefüllt' oder 'Kreuz' ausgewählt werden. Außerdem kann das Interval sowie 
der Versatz in X- und Y-Richtung und die Kreuz- und Linienbreite definiert 
werden.
\item Das Kontrollkästchen \checkbox{Beschriftung zeichnen} ermöglicht es, 
Koordinaten zu dem Koordinatengitter hinzuzufügen. Die Beschriftung innerhalb 
oder außerhalb des Rahmens liegen, als Beschriftungsrichtung kann Horizontal, 
Vertikal, Grenzlinienrichtung oder Horizontal und Vertikal angegeben werden. 
Außerdem kann noch die Farbe des Gitters, die Schriftart, der Abstand zum 
Kartenrahmen und die Koordinatengenauigkeit festgelegt werden.
\end{itemize}

\minisec{Dialog Allgemeine Optionen}

Der Dialog \textbf{Allgemeine Optionen} des Karten Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:sec_map_dialog}b)):

\begin{itemize}[label=--]
\item Hier kann die Rahmen- und Hintergrundfarbe definiert werden, die Deckkraft 
sowie die Umrandungsstärke. Der Knopf \button{Position} öffnet den Dialog 
\dialog{Elementposition setzen} und erlaubt es, die Position des Kartenelements 
mittels Objektbezugspunkten oder Koordinaten festzulegen. Zusätzlich kann 
mit dem Kontrollkästchen \checkbox{Rahmen anzeigen} eingestellt werden, ob der 
Kartenrahmen angezeigt werden soll oder nicht.
\end{itemize}

\subsection{Weitere Elemente zum Print Composer hinzufügen}

Neben einem Kartenfenster können auch die Elemente Legende, Maßstab, Bild und
Beschriftung im Print Composer angelegt, ausgerichtet, verschoben und
angepasst werden. Jedes Element hat dabei seine eigenen Eigenschaften und
seine eigene Ausdehnung.


\subsection{Beschriftung Eintrag Reiter - Beschriftung und Allgemeine Optionen}

Um eine Beschriftung zur Druckzusammenstellung hinzuzufügen, drücken Sie 
auf das Icon \toolbtntwo{mActionLabel}{Neue Beschriftung hinzufügen}, platzieren
das Element mit der linken Maustaste auf dem Kartenblatt und passen dann 
die Eigenschaften des Elementes im \tab{Beschriftung Eintrag Reiter} an.

\begin{figure}[ht]
\centering
\caption{Print Composer Karten Eintrag Reiter - Dialoge Beschriftung und Allgemeine Optionen \nixcaption}\label{fig:label_option}
   \subfloat[Dialog Beschriftung]{\label{subfig:labeloptions1}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_label1}}\hspace{0.33cm}
   \subfloat[Dialog Allgemeine Optionen]{\label{subfig:labeloptions2}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_label2}}
\end{figure}

\minisec{Dialog Beschriftung}

Der Dialog \textbf{Beschriftung} des Beschriftung Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung\ref{fig:label_option}a)):

\begin{itemize}[label=--]
\item Der Dialog \textbf{beschriftung} erlaubt es, dem Kartenblatt eine Beschriftung 
hinzuzufügen. Dabei kann horizontale und vertikale Ausrichtung, die Schrift und 
Schriftfarbe und ein Textrand in mm definiert werden.
\end{itemize}

\minisec{Dialog Allgemeine Optionen}

Der Dialog \textbf{Allgemeine Optionen} des Beschriftung Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:label_option}b)):

\begin{itemize}[label=--]
\item Hier kann die Rahmen- und Hintergrundfarbe definiert werden, die Deckkraft
sowie die Umrandungsstärke. Der Knopf \button{Position} öffnet den Dialog
\dialog{Elementposition setzen} und erlaubt es, die Position des Kartenelements
mittels Objektbezugspunkten oder Koordinaten festzulegen. Zusätzlich kann
mit dem Kontrollkästchen \checkbox{Rahmen anzeigen} eingestellt werden, ob der
Kartenrahmen angezeigt werden soll oder nicht.
\end{itemize}


\subsection{Bild Eintrag Reiter - Bild-Optionen und Allgemeine Optionen}

Um ein Bild hinzuzufügen, drücken Sie auf das Icon 
\toolbtntwo{mActionSaveMapAsImage}{Bild hinzufügen}, platzieren
das Element mit der linken Maustaste auf dem Kartenblatt und passen dann
die Eigenschaften des Elementes im \tab{Bild Eintrag Reiter} an.

\begin{figure}[ht]
\centering
\caption{Print Composer Bild Eintrag Reiter - Bild-Optionen und Allgemeine Optionen \nixcaption}\label{fig:imageoptions}
   \subfloat[Dialog Bild-Optionen]{\label{subfig:print_composer_image1}\includegraphics[clip=true, width=0.30\textwidth]{print_composer_image1}}\hspace{0.33cm}
   \subfloat[Dialog Allgemeine Optionen]{\label{subfig:print_composer_image2}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_image2}}
\end{figure}

\minisec{Dialog Bild-Optionen}

Der Dialog \textbf{Bild-Optionen} des Bild Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:imageoptions}a)):

\begin{itemize}[label=--]
\item Der Bereich \textbf{Verzeichnisse durchsuchen} ermöglicht es, Ordner 
mit SVG-Bildern in die Bilddatenbank zu integrieren oder zu entfernen.
\item Der Bereich \textbf{Vorschau} zeigt alle Bilder aus den verschiedenen 
Verzeichnissen an.
\item Der Bereich \textbf{Optionen} zeigt den Pfad zum aktuell ausgewählten 
Bild: An dieser Stelle kann auch die Breite, Höhe und Drehung des Bildes 
im Uhrzeigersinn festgelegt werden. Außerdem kann an dieser Stelle auch 
ein Bild aus einem benutzerdefinierten Ordner geladen werden. Wenn Sie das 
Kontrollkästchen \checkbox{Sync von Karte} aktivieren, wird die Drehung 
eines Bildes aus dem QGIS Kartenfenster mit dem Kartenfenster des Print 
Composer synchronisiert (z.B. die Drehung des Nordpfeils).
\end{itemize}

\minisec{Dialog Allgemeine Optionen}

Der Dialog \textbf{Allgemeine Optionen} des Bild Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:imageoptions}b)):

\begin{itemize}[label=--]
\item Hier kann die Rahmen- und Hintergrundfarbe definiert werden, die Deckkraft
sowie die Umrandungsstärke. Der Knopf \button{Position} öffnet den Dialog
\dialog{Elementposition setzen} und erlaubt es, die Position des Kartenelements
mittels Objektbezugspunkten oder Koordinaten festzulegen. Zusätzlich kann
mit dem Kontrollkästchen \checkbox{Rahmen anzeigen} eingestellt werden, ob der
Kartenrahmen angezeigt werden soll oder nicht.
\end{itemize}

\subsection{Legende Eintrag Reiter - Allgemein, Legendenelemente, Elementoptionen}

Um eine Vektorlegende hinzuzufügen, drücken Sie auf das Icon
\toolbtntwo{mActionAddLegend}{Vektorlegende hinzufügen}, platzieren
das Element mit der linken Maustaste auf dem Kartenblatt und passen dann
die Eigenschaften des Elementes im \tab{Legende Eintrag Reiter} an.

\begin{figure}[h]
\centering
\caption{Print Composer Legende Eintrag Reiter - Allgemein, Legendenelemente, Elementoptionen \nixcaption}\label{fig:legendoptions}
   \subfloat[Dialog Allgemein]{\label{subfig:print_composer_legend1}\includegraphics[clip=true, width=0.3\textwidth]{print_composer_legend1}}\hspace{0.33cm}
   \subfloat[Dialog Legendenelemente]{\label{subfig:print_composer_legend2}\includegraphics[clip=true, width=0.3\textwidth]{print_composer_legend2}}\hspace{0.33cm}
   \subfloat[Dialog Elementoptionen]{\label{subfig:print_composer_legend3}\includegraphics[clip=true, width=0.3\textwidth]{print_composer_legend3}}
\end{figure}

\minisec{Dialog Allgemein}

Der Dialog \textbf{Allgemein} des Legende Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:legendoptions}a)):

\begin{itemize}[label=--]
\item Hier kann der Titel der Legende eingetragen werden. Sie können die Titel-, 
Layer- und Elementschrift anpassen, und zusätzlich die Symbolbreite und -höhe, 
den Layer-, Symbol- und Iconbeschriftungsraum, sowie den Rahmenabstand festlegen.
\end{itemize}

\minisec{Dialog Legendenelemente}

Der Dialog \textbf{Legendenelemente} des Legende Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:legendoptions}b)):

\begin{itemize}[label=--]
\item Der Dialog Legendenelemente listet alle Legendenelemente und ermöglicht die 
Anpassung des Reihenfolge, sowie das Löschen, Editieren und Aktualisieren der 
Listeneinträge, wenn Sie Veränderungen im QGIS Kartenfenster durchgeführt haben, 
damit diese in die Druckzusammenstellung übernommen werden. Die Reihenfolge 
kann mit den \button{Up} und \button{Down} angepasst werden.
\end{itemize}

\minisec{Dialog Elementoptionen}

Der Dialog \textbf{Elementoptionen} des Legende Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:legendoptions}c)):

\begin{itemize}[label=--]
\item Hier kann die Rahmen- und Hintergrundfarbe definiert werden, die Deckkraft
sowie die Umrandungsstärke. Der Knopf \button{Position} öffnet den Dialog
\dialog{Elementposition setzen} und erlaubt es, die Position des Kartenelements
mittels Objektbezugspunkten oder Koordinaten festzulegen. Zusätzlich kann
mit dem Kontrollkästchen \checkbox{Rahmen anzeigen} eingestellt werden, ob der
Kartenrahmen angezeigt werden soll oder nicht.
\end{itemize}

\subsection{Maßstab Eintrag Reiter - Maßstab und Allgemeine Optionen}

Um einen Maßstab hinzuzufügen, drücken Sie auf das Icon 
\toolbtntwo{mActionScaleBar}{Neuen Maßstab hinzufügen}, platzieren
das Element mit der linken Maustaste auf dem Kartenblatt und passen dann
die Eigenschaften des Elementes im \tab{Maßstab Eintrag Reiter} an.

\begin{figure}[ht]
\centering
\caption{Print Composer Maßstab Eintrag Reiter - Maßstab und Allgemeine Optionen \nixcaption}\label{fig:scalebaroptions}
\subfloat[Dialog Maßstab]{\label{subfig:scalebaroptions1}\includegraphics[clip=true, width=0.35\textwidth]{print_composer_scalebar1}}\hspace{0.33cm}
\subfloat[Dialog Allgemeine Optionen]{\label{subfig:scalebaroptions2}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_scalebar2}}
\end{figure}

\minisec{Dialog Maßstab}

Der Dialog \textbf{Maßstab} des Maßstab Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:scalebaroptions}a)):

\begin{itemize}[label=--]
\item Der oberen Bereich kann die Segmentgröße, die Karteneinheiten pro 
Maßstabeinheit und die Anzahl der links und rechts neben dem 0 Wert zu 
verwendenden Segmente festgelegt werden.
\item Im Bereich Stil kann festgelegt werden, ob es ein einfacher Rahmen, 
doppelter Rahmen, eine mittige Linieneinteilung, eine Linieneinteilung 
unten oder oben sein soll, oder ob der Maßstab numerisch angezeigt werden 
soll.
\item Darüberhinaus kann man im Bereich Karte noch die Höhe, die 
Linienstärke, den Beschriftungs- und Rahmenabstand angeben, sowie eine 
Beschriftung für die Einheit mit Schriftart und -farbe festlegen.
\end{itemize}

\minisec{Dialog Allgemeine Optionen}

Der Dialog \textbf{Allgemeine Optionen} des Maßstab Eintrag Reiters bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:scalebaroptions}b)):

\begin{itemize}[label=--]
\item Hier kann die Rahmen- und Hintergrundfarbe definiert werden, die Deckkraft
sowie die Umrandungsstärke. Der Knopf \button{Position} öffnet den Dialog
\dialog{Elementposition setzen} und erlaubt es, die Position des Kartenelements
mittels Objektbezugspunkten oder Koordinaten festzulegen. Zusätzlich kann
mit dem Kontrollkästchen \checkbox{Rahmen anzeigen} eingestellt werden, ob der
Kartenrahmen angezeigt werden soll oder nicht.
\end{itemize}

\section{In der Druckzusammenstellung navigieren}

Zur Navigation in der Druckzusammenstellung stehen vier Werkeuge zur Verfügung:

\begin{itemize}[label=--]
\item \toolbtntwo{mActionZoomOut}{Hineinzoomen},
\item \toolbtntwo{mActionZoomOut}{Hinauszoomen},
\item \toolbtntwo{mActionZoomFullExtent}{Volle Ausdehung} und
\item \toolbtntwo{mActionDraw}{Aktualisiere Ansicht}.
\end{itemize}

\section{Schritte rückgängig machen und wiederherstellen}

Beim Layouten ist es möglich, durchgeführte Schritte rückgängig zu machen oder 
wieder herzustellen. Dazu stehen die folgenden zwei Werkzeuge zur Verfügung:

\begin{itemize}[label=--]
\item \toolbtntwo{mActionUndo}{Letzte Änderung zurücknehmen} 
\item \toolbtntwo{mActionRedo}{Letzte Änderung wiederherstellen}
\end{itemize}

Oder sie können mit der Maus im Reiter \tab{Befehlsprotokoll} einen bestimmten 
Stand zurückholen (siehe Abbildung\ref{fig:commandhist}).

\begin{figure}[ht]
\begin{center}
   \caption{Befehlsprotokoll im Print Composer \nixcaption}
   \label{fig:commandhist}\smallskip
   \includegraphics[clip=true, width=12cm]{command_hist}
\end{center}  
\end{figure}

\section{Einfaches Objekt und Pfeil hinzufügen}

Es ist möglich ein einfaches Objekt (Ellipse, Rechteck, Dreieck) und Pfeile 
in die Druckzusammenstellung zu ergänzen.

\begin{figure}[ht]
\centering
\caption{Print Composer Eintrag Reiter - Form und Pfeil \nixcaption}\label{fig:shapearrow}\subfloat[Dialog Form]{\label{subfig:shapedialog}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_shape}}\hspace{0.33cm}
\subfloat[Dialog Pfeil]{\label{subfig:arrowdialog}\includegraphics[clip=true, width=0.4\textwidth]{print_composer_arrow}}
\end{figure}

\begin{itemize}[label=--]
\item Der Dialog \textbf{Form} ermöglicht es, eine Ellipse, ein Rechteck und 
Dreieck zu zeichnen. Dabei kann die Umrandungsfarbe, die Randbreite und die 
Drehung im Uhrzeigersinn bestimmt werden. Wenn das Kontrollkästchen 
\checkbox{Transparente Füllung} deaktiert ist, kann auch eine Füllfarbe definiert 
werden,
\item Der Dialog \textbf{Pfeil} ermöglicht es, einen Pfeil zu zeichnen. Dabei 
kann die Pfeilfarbe, die Randbreite und Pfeilkopfbreite festgelegt werden. Für 
den Pfeilkopf kann noch bestimmt werden, ob ein normaler Pfeilkopf, keiner oder 
ein anderer, auf ihren PC befindlicher und auf dem SVG-Format basierender 
Pfeilkopf verwendet werden soll. Dabei wird unterschieden zwischen Anfang 
und Ende des Pfeils.
\end{itemize}

\section{Attributtabelle hinzufügen}

Es ist möglich, Werte einer Attributtabelle in die Druckzusammenstellung zu integrieren. 

\begin{figure}[ht]
\centering
\subfloat[Dialog Tabelle]{\label{subfig:tabledialog1}\includegraphics[clip=true, width=0.38\textwidth]{print_composer_attribute1}}
\hspace{1cm}
\subfloat[Dialog Allemein]{\label{subfig:tabledialog2}\includegraphics[clip=true, width=0.38\textwidth]{print_composer_attribute2}}
\caption{Print Composer Tabelle Reiter - Tabelle und Allgemein \nixcaption}\label{fig:attrcomp}
\end{figure}

\minisec{Dialog Tabelle}

Der Dialog \dialog{Tabelle} des Reiters Attributtabelle bietet folgende 
Funktionalitäten (siehe Abbildung~\ref{fig:attrcomp}a)):

\begin{itemize}[label=--]
\item Der Dialog \dialog{Tabelle} ermöglicht es, den Vektorlayer und die 
Spalten der Attributtabelle auszuwählen. Die Attributspalten können sortiert 
werden, und es kann festgelegt werden, ob die Werte auf- oder absteigend 
gezeigt werden sollen. 
\item Sie können auch die Anzahl der Zeilen festlegen, die angezeigt werden 
sollen und ob Attribute nur für die gerade sichtbaren Bereiche des Kartenfensters 
benutzt werden sollen. 
\item Außerdem können Sie das Aussehen der Tabelle verändern sowie die Schriftart 
und -größe für die Spaltenköpfte und die Werte.
\end{itemize}

\minisec{Dialog Allgemein}

Der Dialog \dialog{Allgemein} des Reiters Attributtabelle bietet folgende
Funktionalitäten (siehe Abbildung \ref{fig:attrcomp}b)):

\begin{itemize}[label=--]
\item Hier kann die Rahmen- und Hintergrundfarbe definiert werden, die Deckkraft
sowie die Umrandungsstärke der Tabelle. Der Knopf \button{Position} öffnet den Dialog
\dialog{Elementposition setzen} und erlaubt es, die Position des Kartenelements
mittels Objektbezugspunkten oder Koordinaten festzulegen. Zusätzlich kann
mit dem Kontrollkästchen \checkbox{Rahmen anzeigen} eingestellt werden, ob der
Kartenrahmen angezeigt werden soll oder nicht.
\end{itemize}

\section{Elemente in den Vorder- oder Hintergrund bringen und
ausrichten}

Die Funktionalitäten, um Elemente in den Vorder- oder Hintergrund bringen zu
bringen, befinden sich im \toolbtntwo{mActionRaiseItems}{Ausgwählte Elemente
in den Vordergrund bringen} Pulldown Menü. Aktivieren Sie mit der linken
Maustaste ein Element im Kartenfenster des Print Composers und wählen Sie die
passende Funktionalität aus, um das Elemente relativ zu den anderen in den
Vorder- oder Hintergrund zu bringen (siehe
Tabelle~\ref{tab:printcomposer_tools}).

Die Funktionalitäten, um Elemente im Kartenfenster des Print Composers
auszurichten finden Sie im \toolbtntwo{mActionAlignLeft}{Alle ausgewählten
Elemente ausrichten} Pulldown Menü. Aktivieren Sie mit der linken
Maustaste ein Element im Kartenfenster des Print Composers und wählen Sie die
passende Funktionalität aus (siehe Tabelle~\ref{tab:printcomposer_tools}).
Alle selektierten Elemente werden dann an ihrer gemeinsamen Bounding Box
entsprechend ausgerichtet.

\section{Eine Ausgabe erzeugen}

Abbildung~\ref{fig:print_composer_complete} zeigt den Print Composer mit
einem Beispiel Printlayout, das alle in diesem Kapitel angesprochenen
Elemente zeigt.

\begin{figure}[h]
   \begin{center}
   \caption{Print Composer Layout mit Karte, Legende, Maßstab und Beschriftung \nixcaption}
   \label{fig:print_composer_complete}\smallskip
   \includegraphics[clip=true, width=\textwidth]{print_composer_complete}
\end{center}
\end{figure}

Mit dem Print Composer kann eine Karte in definierter Auflösung und Größe
gedruckt, sowie als Rasterbild oder ins SVG-Format exportiert werden.

\begin{itemize}[label=--]
\item Der Knopf \toolbtntwo{mActionFilePrint}{Drucken} ermöglicht das Drucken
auf einem angeschlossenen Drucker, oder den Export als Postscript Datei in
Abhängigkeit von den installierten Druckertreibern.
\item Der Knopf \toolbtntwo{mActionExportMapServer}{Speichere als Rasterbild}
exportiert das Drucklayout in verschiedene Bildformate, z.B.: PNG, BPM, TIF,
JPG, \dots
\item Der Knopf \toolbtntwo{mActionSaveAsPDF}{Als PDF exportieren} speichert
das aktuelle Kartenfenster des Print Composers als PDF.
\item Der Knopf \toolbtntwo{mActionSaveAsSVG}{Speichern als SVG} speichert
das aktuelle Drucklayout als SVG (Scalable Vector
Graphic).\textbf{Bemerkung:} Aktuell kann die SVG-Ausgabe unvollständig sein,
da nicht alle Versionen der verwendeten QT4 Bibliothek einwandfrei arbeiten. 
Dieses Problem wird hoffentlich mit der Zeit verschwinden.
\end{itemize}

\section{Ein Print Composer Layout als Vorlage speichern und laden}

Mit den Icons \toolbtntwo{mActionFileSaveAs}{Als Vorlage speichern} und
\toolbtntwo{mActionFolder}{Aus Vorlage laden} können Sie den aktuellen Stand
einer Print Composer Sitzung als ein Template mit der Dateiendung *.qpt
speichern und entsprechend in einer anderen Sitzung wieder laden.

Der Knopf \toolbtntwo{mActionComposerManager}{Druckzusammenstellung verwalten} 
in der Werkzeugleiste und im Menü \mainmenuopt{Datei} \arrow
\dropmenuopttwo{mActionComposerManager}{Druckzusammenstellung verwalten} 
ermöglicht es, vorhanden Templates zu managen, neue zu öffnen, oder 
bereits existierende zu öffnen.

\begin{figure}[h]
   \begin{center}
   \caption{Druckzusammenstellung verwalten \nixcaption}
   \label{fig:print_composer_manager}\smallskip
   \includegraphics[clip=true, width=8cm]{print_composer_manager}
\end{center}
\end{figure}

\FloatBarrier

