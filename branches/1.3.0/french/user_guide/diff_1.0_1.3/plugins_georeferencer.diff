--- user guide EN 1.0/plugins_georeferencer.tex	2009-11-30 19:25:27.245714057 +0100
+++ user guide EN 1.3/plugins_georeferencer.tex	2009-11-28 23:05:58.950672009 +0100
@@ -6,99 +6,96 @@
 % comment out the following line:
 %\updatedisclaimer
 
-The \toolbtntwo{georeferencer}{Georeferencer} allows to generate world files for rasters.
-Therefore you select points on the raster, add their coordinates, and the plugin will compute the world file parameters.
-The more coordinates you provide the better the result will be.
-
-As an example we will generate a world file for a topo sheet of South Dakota from SDGS.
-It can later be visualized together with in the data of the GRASS spearfish60 location.
-You can download the topo sheet here: \url{http://grass.osgeo.org/sampledata/spearfish\_toposheet.tar.gz}
+The Georeferencer Plugin is a tool for generating world files for rasters.
+It allows you to reference rasters to geographic or projected coordinate systems by creating a 
+world file, or by transforming the raster to a new coordinate system. The basic approach to georeferencing a raster is to locate points on the raster for which you can accurately determine their coordinates. The source of the coordinates can be:
 
-As a first step we download the file and untar it.
+\begin{enumerate}
+\item The raster itself, sometimes coordinates are literally `written' on the raster. 
+In this case you can enter the coordinates manually.
+\item Other georeferenced data, this can be either vector or raster data that contain the same objects/features that you have on the raster that you want to georeference. In this case you can enter the coordinates by clicking on the reference dataset loaded in QGIS map canvas.
+\end{enumerate}
 
-\begin{verbatim}
-wget http://grass.osgeo.org/sampledata/spearfish_toposheet.tar.gz
-tar xvzf spearfish_toposheet.tar.gz
-cd spearfish_toposheet
-\end{verbatim}
+The usual procedure for georeferencing an image involves selecting multiple points on the raster, 
+specifying their coordinates, and choosing a relevant transformation type. Based on the input parameters and data, the plugin will compute the world file parameters. The more coordinates you provide, the better the result will be.
 
-The next step is to start QGIS, load the georeferencer plugin and select the file \filename{spearfish\_topo24.tif}.
+The first step is to start QGIS and load the Georeferencer Plugin (see Section 
+\ref{sec:load_core_plugin}) and click on the \toolbtntwo{georeferencer}{Georeferencer} 
+icon which appears in the QGIS toolbar menu. The Georeferencer Plugin dialog appears as 
+shown in Figure \ref{fig:georefplugin}.
+  
+For this example, we are using a topo sheet of South Dakota from SDGS. It can later be visualized 
+together with the data from the GRASS spearfish60 location. You can download the topo sheet here: 
+\url{http://grass.osgeo.org/sampledata/spearfish\_toposheet.tar.gz}
 
 \begin{figure}[ht]
 \begin{center}
-\caption{Select an image to georeference \nixcaption}\label{fig:select_image}\smallskip
-  \includegraphics[clip=true, width=12cm]{select_image}
+  \caption{Georeferencer Plugin Dialog \nixcaption}\label{fig:georefplugin}\smallskip
+  \includegraphics[clip=true, width=12cm]{georefplugin}
 \end{center}
 \end{figure}
 
-Now click on the button \button{Arrange plugin window} to open the image in
-the georeferencer and to arrange it with the reference map in the qgis map
-canvas on your desktop (see Figure \ref{fig:georefplugin}).
+\minisec{Entering ground control points (GCPs)}\label{georeferencer_entering}
 
-\begin{figure}[ht]
-\begin{center}
-  \caption{Arrange plugin window with the qgis map canvas \nixcaption}\label{fig:georefplugin}\smallskip
-  \includegraphics[clip=true,width=\textwidth]{georefplugin}
-\end{center}
-\end{figure}
+\begin{enumerate}
+\item To start georeferencing an unreferenced raster, we must load it using the \browsebutton browse button. The raster will show up in the main working area of the dialog. Once the raster is loaded, we can start to enter reference points.
 
-With the button \button{Add Point} you can start to add points on the raster image and enter their coordinates, and the plugin will compute the world file parameters (see Figure \ref{fig:choose_points}).
-The more coordinates you provide the better the result will be.
-For the procedure you have two options:
+\item Using the \toolbtntwo{mActionCapturePoint}{Add Point} button, add points to the main working area and enter their coordinates (See Figure \ref{fig:choose_points}). For this procedure you have two options:
 
 \begin{enumerate}
-\item You click on a point in the raster map and enter the X and Y coordinates manually
-\item You click on a point in the raster map and choose the button \button{from map canvas} to add the X and Y coordinates with the help of a georeferenced map already loaded in QGIS.
+\item Click on a point in the raster map and enter the X and Y coordinates manually
+\item Click on a point in the raster map and choose the button \toolbtntwo{pencil}{from map canvas} to add the X and Y coordinates with the help of a georeferenced map already loaded in QGIS.
+\end{enumerate}
+\item Continue entering points. You should have at least 4 points, and the more coordinates you can provide, the better the result will be. There are additional tools on the plugin dialog to zoom and pan the working area in order to locate a relevant set of GCP points.
 \end{enumerate}
 
 \begin{figure}[ht]
 \begin{center}
   \caption{Add points to the raster image \nixcaption}\label{fig:choose_points}\smallskip
-  \includegraphics[clip=true,width=0.9\textwidth]{choose_points}
+  \includegraphics[clip=true,width=9cm]{choose_points}
 \end{center}
 \end{figure}
 
-For this example we use the second option and enter the coordinates for the selected points with the help of the \filename{roads} map provided with the  \filename{spearfish60} location from: \url{http://grass.osgeo.org/sampledata/spearfish\_grass60data-0.3.tar.gz}
+The points that are added to the map will be stored in a separate text file ([filename].points) which is stored together with the raster image. This allows us to reopen the Georeferencer plugin at a later date and add new points or delete existing ones to optimize the result. The points file contains values of the form: mapX, mapY, pixelX, pixelY. You can also \button{Load GCPs} and \button{Save GCPs} to different directories if you like.
 
-If you don't know how to integrate the \filename{spearfish60} location with
-the GRASS plugin, information are provided in Section \ref{sec:grass}. As you
-can see in Figure \ref{fig:choose_points}, the georeferencer provides buttons to zoom, pan, add and delete points in the image.
+\minisec{Choosing the transformation}\label{georeferencer_transformation}
 
-After you added enough points to the image you need to select the transformation type for the georeferencing process and save the resulting world file together with the Tiff.
-In our example we choose 
-\selectstring{Transform type}{linear transformation} 
-although a 
-\selectstring{Transform type}{Helmert transformation}
-might be sufficient as well.
+After you have added your GCPs to the raster image, you need to select the transformation type for the georeferencing process. Depending on how many ground control point you have captured, you may want to use different transformation algorithms. Choice of transformation algorithm is also dependent on the type and quality of input data and the amount of geometric distortion that you are willing to introduce to final result.
 
+Currently, several algorithms are available:
 
-\begin{Tip}\caption{\textsc{Choosing the transformation type}}
-\qgistip{The linear (affine) transformation is a 1st order transformation and is used for scaling, translation and rotation of geometrically correct images.
-With the Helmert transformation you simply add coordinate information to the image like geocooding.
-If your image is contorted you will need to use software that provides 2nd or 3rd order polynomial transformation, e.g. GRASS GIS.}
-\end{Tip} 
+\begin{enumerate}
+\item Linear
+\item Helmert
+\item Polynomial 1
+\item Polynomial 2
+\item Polynomial 3
+\item Thin plate spline (TPS)
+\end{enumerate}
 
-The points we added to the map will be stored in a \filename{spearfish\_topo24.tif.points} file together with the raster image.
-This allows us to reopen the georeferencer plugin and to add new points or delete existing ones to optimize the result.
-The \filename{spearfish\_topo24.tif.points} file of this example shows the points:
+\begin{itemize}
+\item The Linear algorithm is used to create a world-file, and is different from the other algorithms, as it does not actually transform the raster. This algorithm likely won't be sufficient if you are dealing with scanned material.
+\item The Helmert transformation performs simple scaling and rotation transformations. 
+\item The Polynomial algorithms are among the most widely used algorithms for georeferencing, and each one differs by the degree of distortion introduced to match source and destination ground control points. The most widely used polynomial algorithm is the second order polynomial transformation, which allows some curvature. First order polynomial transformation (affine) preserves colliniarity and allows scaling, translation and rotation only.
+\item The Thin plate spline (TPS) algorithm is a more modern georeferencing method, which is able to introduce local deformations in the data. This algorithm is useful when very low quality originals are being georeferenced.
+\end{itemize}
 
-\begin{verbatim}
-mapX    		mapY    		pixelX  pixelY
-591630.196867999969982  4927104.309682800434530 591647  4.9271e+06
-608453.589164100005291  4924878.995150799863040 608458  4.92487e+06
-602554.903929700027220  4915579.220743400044739 602549  4.91556e+06
-591511.138448899961077  4915952.302661700174212 591563  4.91593e+06
-602649.526155399973504  4919088.353569299913943 602618  4.91907e+06
-\end{verbatim} 
+\minisec{Running the transformation}\label{georeferencer_running}
+
+\begin{enumerate}
+\item When the GCPs have been collected, and the transformation has been chosen, press either \button{Create} to create a new raster or \button{Create and load layer} to automatically add the new raster to the layer list.
+\item A warning message will appear that will inform you that a new raster (in GeoTIFF format) will be created.
+\item After hitting OK, you will also be asked to choose a resampling method. There are three methods available:
+
+\begin{enumerate}
+\item Nearest neighbour
+\item Linear
+\item Cubic
+\end{enumerate}
+\end{enumerate}
+
+\begin{Tip}\caption{\textsc{Choosing the resampling method}}
+\qgistip{The type of resampling you choose will likely depending on your input data and the ultimate objective of the exercise. If you don't want to change statistics of the image, you might want to choose Nearest neighbour, whereas a Cubic resampling will likely provide a more smoothed result.}
+\end{Tip}
 
-We used 5 coordinate points to georeference the raster image.
-To get correct results it is important to disperse the points regulary in the image.
-Finally we check the result and load the new georeferenced map \filename{spearfish\_topo24.tif} and overlay it with the map \filename{roads} of the \filename{spearfish60} location.
 
-\begin{figure}[ht]
-\begin{center}
-  \caption{Georeferenced map with overlayed roads from spearfish60 location
-  \nixcaption}\label{fig:result_map}\smallskip
-  \includegraphics[clip=true,width=\textwidth]{result_map}
-\end{center}
-\end{figure}
